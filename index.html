<!DOCTYPE html>
<html lang="ko" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="êµì‹¤ì—ì„œ í•™ìƒë“¤ì˜ êµê³¼í‰ê°€ì™€ í•™êµìƒí™œì„ ê´€ì°°ê¸°ë¡í•˜ê³ , AIë¥¼ í™œìš©í•´ ë¶„ì„í•˜ëŠ” ë„êµ¬">
    <meta name="keywords" content="êµì‹¤ê´€ì°°, í•™ìƒí‰ê°€, AIë¶„ì„, ëˆ„ê°€ê¸°ë¡, êµìœ¡ë„êµ¬">
    <meta name="author" content="AI Assistant">
    
    <title>AI ClassNote (AI í´ë˜ìŠ¤ë…¸íŠ¸)</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3EğŸ‘¨â€ğŸ«%3C/text%3E%3C/svg%3E">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer">
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="css/styles.css">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#3b82f6">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="AI ClassNote">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="AI ClassNote (AI í´ë˜ìŠ¤ë…¸íŠ¸)">
    <meta property="og:description" content="êµì‹¤ì—ì„œ í•™ìƒë“¤ì˜ êµê³¼í‰ê°€ì™€ í•™êµìƒí™œì„ ê´€ì°°ê¸°ë¡í•˜ê³ , AIë¥¼ í™œìš©í•´ ë¶„ì„í•˜ëŠ” ë„êµ¬">
    <meta property="og:type" content="website">
    <meta property="og:url" content="">
    <meta property="og:image" content="">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="AI ClassNote (AI í´ë˜ìŠ¤ë…¸íŠ¸)">
    <meta name="twitter:description" content="êµì‹¤ì—ì„œ í•™ìƒë“¤ì˜ êµê³¼í‰ê°€ì™€ í•™êµìƒí™œì„ ê´€ì°°ê¸°ë¡í•˜ê³ , AIë¥¼ í™œìš©í•´ ë¶„ì„í•˜ëŠ” ë„êµ¬">
    
    <!-- Security Headers -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com https://cdnjs.cloudflare.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com; font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com; img-src 'self' data:; connect-src 'self' https://generativelanguage.googleapis.com;">
    
    <!-- Preload Critical Resources -->
    <link rel="preload" href="css/styles.css" as="style">
    <link rel="preload" href="js/utils.js" as="script">
    <link rel="preload" href="js/data.js" as="script">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "AI ClassNote (AI í´ë˜ìŠ¤ë…¸íŠ¸)",
        "description": "êµì‹¤ì—ì„œ í•™ìƒë“¤ì˜ êµê³¼í‰ê°€ì™€ í•™êµìƒí™œì„ ê´€ì°°ê¸°ë¡í•˜ê³ , AIë¥¼ í™œìš©í•´ ë¶„ì„í•˜ëŠ” ë„êµ¬",
        "url": "",
        "applicationCategory": "EducationalApplication",
        "operatingSystem": "Web Browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "KRW"
        },
        "creator": {
            "@type": "Organization",
            "name": "AI Assistant"
        }
    }
    </script>
    
    <style type="text/tailwindcss">
        /*
          Tailwind JIT Customizations for Prose:
          AI ìš”ì•½ì— ì‚¬ìš©ë˜ëŠ” ë§ˆí¬ë‹¤ìš´ ì½˜í…ì¸ ì˜ ìŠ¤íƒ€ì¼ì„ Tailwind ìœ í‹¸ë¦¬í‹°ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¬ì •ì˜í•©ë‹ˆë‹¤.
          ì´ ë°©ì‹ì€ CSS íŒŒì¼ì„ ë¶„ë¦¬í•˜ì§€ ì•Šê³  Tailwindì˜ ë””ìì¸ ì‹œìŠ¤í…œ ë‚´ì—ì„œ ìŠ¤íƒ€ì¼ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.
        */
        .prose h1 {
          @apply text-[1.75rem] font-bold text-slate-800 mt-0 mb-4 pb-2 border-b-2 border-slate-200;
        }
        .prose h2 {
          @apply text-[1.4rem] font-bold text-blue-700 mt-8 mb-4 pb-2 border-b-2 border-blue-300;
        }
        .prose h3 {
          @apply text-[1.15rem] font-semibold text-blue-800 mt-6 mb-3 pl-3 border-l-4 border-blue-400;
        }
        .prose h4 {
          @apply text-base font-bold text-slate-800 mt-6 mb-3;
        }
        .prose strong {
            @apply !text-slate-900 font-semibold; /* prose ê¸°ë³¸ ìŠ¤íƒ€ì¼ì„ í™•ì‹¤íˆ ì¬ì •ì˜í•˜ê¸° ìœ„í•´ !important ì‚¬ìš© */
        }
        .prose ul, .prose ol {
            @apply mt-4 mb-4 pl-0;
        }
        .prose li {
            @apply mt-2 mb-2 relative pl-7;
            list-style: none; /* ì»¤ìŠ¤í…€ ë¦¬ìŠ¤íŠ¸ ì•„ì´ì½˜ì„ ìœ„í•´ ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì œê±° */
        }
        
        /* ëª©ë¡ ì•„ì´í…œ ì•ì— ì»¤ìŠ¤í…€ ì•„ì´ì½˜ ì¶”ê°€ (pseudo-elementsëŠ” ìˆœìˆ˜ CSS ì†ì„± ì‚¬ìš©) */
        .prose ul > li::before {
            content: '';
            position: absolute;
            left: 0.5rem;
            top: 0.5em; /* ìœ„ì¹˜ ë¯¸ì„¸ ì¡°ì • */
            width: 6px;
            height: 6px;
            background-color: #3b82f6; /* Tailwind blue-600 */
            border-radius: 9999px; /* Tailwind rounded-full */
        }
        .prose ol {
            counter-reset: list-counter;
        }
        .prose ol > li {
            counter-increment: list-counter;
        }
        /* ìˆœì„œ ìˆëŠ” ëª©ë¡ ìŠ¤íƒ€ì¼ */
        .prose ol > li::before {
            content: counter(list-counter) ".";
            position: absolute;
            left: 0.5rem;
            font-weight: 600; /* Tailwind font-semibold */
            color: #3b82f6; /* Tailwind blue-600 */
        }
    </style>
</head>
<body class="h-full bg-slate-100">
    <!-- ì•± ì»¨í…Œì´ë„ˆ -->
    <div id="app" class="h-full flex flex-col bg-slate-50 font-sans">
        <!-- ì•± ë‚´ìš©ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ë¡œë“œë©ë‹ˆë‹¤ -->
    </div>
    
    <!-- ë¡œë”© ì˜¤ë²„ë ˆì´ -->
    <div id="loadingOverlay" class="fixed inset-0 bg-white bg-opacity-90 flex items-center justify-center z-50" style="display: none;">
        <div class="text-center">
            <div class="loading-spinner mb-4"></div>
            <p class="text-slate-600">ë¡œë”© ì¤‘...</p>
        </div>
    </div>
    
    <!-- ì˜¤í”„ë¼ì¸ ì•Œë¦¼ -->
    <div id="offlineNotification" class="fixed top-4 left-4 bg-yellow-500 text-white px-4 py-2 rounded-md shadow-lg z-50" style="display: none;">
        <i class="fas fa-wifi mr-2"></i>
        ì¸í„°ë„· ì—°ê²°ì´ ëŠì–´ì¡ŒìŠµë‹ˆë‹¤.
    </div>
    
    <!-- JavaScript ëª¨ë“ˆë“¤ (ìˆœì„œ ì¤‘ìš”) -->
    <script src="js/utils.js"></script>
    <script src="js/data.js"></script>
    <script src="js/api.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/events.js"></script>
    <script src="js/app.js"></script>
    
    <!-- ê°œë°œì ë„êµ¬ (ê°œë°œ ëª¨ë“œì—ì„œë§Œ) -->
    <script>
        // ê°œë°œ ëª¨ë“œ í™•ì¸
        const isDev = window.location.hostname === 'localhost' || 
                     window.location.hostname === '127.0.0.1' ||
                     window.location.protocol === 'file:';
        
        if (isDev) {
            console.log('ğŸ”§ ê°œë°œ ëª¨ë“œ í™œì„±í™”');
            console.log('ì‚¬ìš© ê°€ëŠ¥í•œ ê°œë°œì ëª…ë ¹ì–´:');
            console.log('- devMode.clearAllData(): ëª¨ë“  ë°ì´í„° ì‚­ì œ');
            console.log('- devMode.exportDebugInfo(): ë””ë²„ê·¸ ì •ë³´ ë‚´ë³´ë‚´ê¸°');
            console.log('- devMode.testApiKey(key): API í‚¤ í…ŒìŠ¤íŠ¸');
            console.log('- getAppState(): í˜„ì¬ ì•± ìƒíƒœ í™•ì¸');
            console.log('- getStatistics(): í†µê³„ ì •ë³´ í™•ì¸');
        }
        
        // ì˜¤í”„ë¼ì¸ ê°ì§€
        window.addEventListener('online', () => {
            const notification = document.getElementById('offlineNotification');
            if (notification) {
                notification.style.display = 'none';
            }
        });
        
        window.addEventListener('offline', () => {
            const notification = document.getElementById('offlineNotification');
            if (notification) {
                notification.style.display = 'block';
            }
        });
        
        // ì´ˆê¸° ì˜¤í”„ë¼ì¸ ìƒíƒœ í™•ì¸
        if (!navigator.onLine) {
            const notification = document.getElementById('offlineNotification');
            if (notification) {
                notification.style.display = 'block';
            }
        }
        
        // ë¡œë”© ì˜¤ë²„ë ˆì´ ì œì–´
        window.addEventListener('load', () => {
            const overlay = document.getElementById('loadingOverlay');
            if (overlay) {
                overlay.style.display = 'none';
            }
        });
        
        // ì—ëŸ¬ ì²˜ë¦¬
        window.addEventListener('error', (event) => {
            console.error('ì „ì—­ ì—ëŸ¬:', event.error);
            const overlay = document.getElementById('loadingOverlay');
            if (overlay) {
                overlay.style.display = 'none';
            }
        });
        
        // Service Worker ë“±ë¡ (PWA ì§€ì›)
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                // ì„œë¹„ìŠ¤ ì›Œì»¤ íŒŒì¼ì´ ìˆë‹¤ë©´ ë“±ë¡
                // navigator.serviceWorker.register('/sw.js')
                //     .then(registration => {
                //         console.log('SW ë“±ë¡ ì„±ê³µ:', registration);
                //     })
                //     .catch(registrationError => {
                //         console.log('SW ë“±ë¡ ì‹¤íŒ¨:', registrationError);
                //     });
            });
        }
        
        // í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ ë„ì›€ë§
        document.addEventListener('keydown', (e) => {
            if (e.key === 'F1' || (e.ctrlKey && e.key === '/')) {
                e.preventDefault();
                alert(`í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤:
Ctrl/Cmd + S: ì„¤ì • ì—´ê¸°
Ctrl/Cmd + N: ìƒˆ í•™ìƒ ì¶”ê°€
Ctrl/Cmd + E: ë°ì´í„° ë‚´ë³´ë‚´ê¸°
Ctrl/Cmd + G: AI ìš”ì•½ ìƒì„±
F2: ì„ íƒëœ í•™ìƒ ì´ë¦„ ìˆ˜ì •
Escape: ëª¨ë‹¬ ë‹«ê¸°
F1 ë˜ëŠ” Ctrl + /: ì´ ë„ì›€ë§`);
            }
        });
        
        // í˜ì´ì§€ ê°€ì‹œì„± ë³€ê²½ ì‹œ ë°ì´í„° ì €ì¥
        document.addEventListener('visibilitychange', () => {
            if (document.hidden && typeof saveData === 'function') {
                saveData();
            }
        });
        
        // ë¸Œë¼ìš°ì € ë’¤ë¡œê°€ê¸°/ì•ìœ¼ë¡œê°€ê¸° ì²˜ë¦¬
        window.addEventListener('popstate', (event) => {
            // í•„ìš”ì‹œ íˆìŠ¤í† ë¦¬ ìƒíƒœ ë³µì› ë¡œì§ êµ¬í˜„
        });
        
        // ì•± ì •ë³´ í‘œì‹œ
        console.log('ğŸš€ AI ClassNote (AI í´ë˜ìŠ¤ë…¸íŠ¸) v3.0.0');
        console.log('ğŸ“š êµì‹¤ì—ì„œ í•™ìƒë“¤ì˜ êµê³¼í‰ê°€ì™€ í•™êµìƒí™œì„ ê´€ì°°ê¸°ë¡í•˜ê³ , AIë¥¼ í™œìš©í•´ ë¶„ì„í•˜ëŠ” ë„êµ¬');
        console.log('ğŸ”’ ë¡œì»¬ ì‹¤í–‰ìœ¼ë¡œ ë°ì´í„° ë³´ì•ˆ ê°•í™”');
        console.log('ğŸ¤– Google Gemini AIë¥¼ í™œìš©í•œ ì§€ëŠ¥í˜• ë¶„ì„');
    </script>
    
    <!-- Google Analytics (ì„ íƒì‚¬í•­) -->
    <!--
    <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'GA_MEASUREMENT_ID');
    </script>
    -->
</body>
</html>